{"remainingRequest":"/Users/draganovik/FTN/Project Day32/day32_dev/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/draganovik/FTN/Project Day32/day32_dev/src/components/EventEdit.vue?vue&type=style&index=0&id=13a9a100&scoped=true&lang=css&","dependencies":[{"path":"/Users/draganovik/FTN/Project Day32/day32_dev/src/components/EventEdit.vue","mtime":1582776345059},{"path":"/Users/draganovik/FTN/Project Day32/day32_dev/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/draganovik/FTN/Project Day32/day32_dev/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/draganovik/FTN/Project Day32/day32_dev/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/draganovik/FTN/Project Day32/day32_dev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/draganovik/FTN/Project Day32/day32_dev/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmJ0IHsKICBwYWRkaW5nOiAwLjVyZW07CiAgbWFyZ2luOiAwLjVyZW07CiAgd2lkdGg6IDRyZW07Cn0Kc2VjdGlvbiB7CiAgZGlzcGxheTogYmxvY2s7CiAgcG9zaXRpb246IGZpeGVkOwogIHdpZHRoOiAxMDAlOwogIHotaW5kZXg6IDY7CiAgdG9wOiAwOwogIGJvdHRvbTogMDsKICBwYWRkaW5nLXRvcDogMTB2aDsKICBvdmVyZmxvdy15OiBzY3JvbGwgaGlkZGVuOwogIHRyYW5zaXRpb246IGFsbCAwLjVzOwogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNoYWRvdyk7Cn0KLnBhZ2UgewogIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQpOwogIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLW1vZGFsKTsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIG1heC13aWR0aDogNTEycHg7CiAgbWF4LWhlaWdodDogNjAwcHg7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luOiBhdXRvOwogIHBhZGRpbmc6IDFyZW07CiAgcGFkZGluZy10b3A6IDQuNXJlbTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgb3ZlcmZsb3cteTogc2Nyb2xsIGhpZGRlbjsKICB6LWluZGV4OiA2OwogIG1pbi1oZWlnaHQ6IG1pbi1jb250ZW50OwogIHRyYW5zaXRpb246IGFsbCAwLjVzOwogIG92ZXJmbG93LXg6IGhpZGRlbjsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgb3ZlcmZsb3c6IG92ZXJsYXk7Cn0KLmZvcm0gewogIHRleHQtYWxpZ246IGNlbnRlcjsKICB3aWR0aDogMTAwJTsKICBtYXgtd2lkdGg6IDUxMnB4OwogIG1pbi13aWR0aDogMzAwcHg7Cn0KLmZvcm0gc2VsZWN0IHsKICBhbGw6IHVuc2V0Owp9Ci5mb3JtIGlucHV0LAouZm9ybSB0ZXh0YXJlYSwKLmZvcm0gc2VsZWN0IHsKICBkaXNwbGF5OiBibG9jazsKICBtYXJnaW46IDFyZW07CiAgcGFkZGluZzogMC42cmVtIDFyZW07CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1hcmdpbjogMC44cmVtIGF1dG87CiAgd2lkdGg6IDcwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb250cm9sKTsKICBib3JkZXItcmFkaXVzOiA2cHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3JkZXI6IG5vbmU7CiAgcmVzaXplOiBub25lOwogIGNvbG9yOiB2YXIoLS1mb3JlZ3JvdW5kKTsKICBmb250LWZhbWlseTogaW5oZXJpdDsKICBmb250LXNpemU6IDEuMnJlbTsKfQp0ZXh0YXJlYSB7CiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50OwogIGhlaWdodDogNnJlbTsKfQoucHVzaCB7CiAgcGFkZGluZy10b3A6IDEwMHZoOwp9CmJ1dHRvbiB7CiAgcGFkZGluZzogMC4ycmVtIDAuOHJlbTsKICBmb250LXNpemU6IDFyZW07Cn0KLmFjIHsKICBwYWRkaW5nOiAwLjRyZW0gMDsKICB3aWR0aDogY2FsYyg1MCUgLSAxcmVtKTsKfQpAbWVkaWEgKGhvdmVyOiBob3ZlcikgewogIC5hYnQ6aG92ZXIgewogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KfQpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2NzBweCksIHNjcmVlbiBhbmQgKG1heC1oZWlnaHQ6IDY2MHB4KSB7CiAgc2VjdGlvbiB7CiAgICBwYWRkaW5nOiAwOwogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmFja2dyb3VuZCk7CiAgfQogIHNlY3Rpb24gKiB7CiAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwOwogIH0KICAucGFnZSB7CiAgICBtYXgtd2lkdGg6IGluaXRpYWw7CiAgICBtYXgtaGVpZ2h0OiBtYXgtY29udGVudDsKICAgIGhlaWdodDogMTAwdmg7CiAgICB0b3A6IDA7CiAgICBib3JkZXI6IG5vbmU7CiAgICBib3JkZXItcmFkaXVzOiAwOwogIH0KfQo="},{"version":3,"sources":["EventEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventEdit.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <section ref=\"overlay\" class=\"noned push\" v-on:click=\"toggleEventCard()\">\n    <div class=\"page\" ref=\"page\" v-on:click.stop>\n      <div class=\"form\">\n        <input\n          type=\"text\"\n          placeholder=\"Title\"\n          v-model=\"event.summary\"\n          ref=\"finput\"\n          tabindex=\"1\"\n        />\n        <input\n          type=\"button\"\n          class=\"btn\"\n          style=\"width:70%;box-sizing:border-box;\"\n          ref=\"adbtn\"\n          v-on:click=\"allDay()\"\n          value=\"Set without time\"\n          tabindex=\"-1\"\n        />\n        <input\n          type=\"datetime-local\"\n          ref=\"sdate\"\n          v-model=\"event.start.dateTime\"\n          tabindex=\"2\"\n        />\n        <input\n          type=\"datetime-local\"\n          ref=\"edate\"\n          class=\"tdate\"\n          v-model=\"event.end.dateTime\"\n          tabindex=\"3\"\n        />\n        <input\n          type=\"date\"\n          ref=\"adate\"\n          class=\"noned\"\n          v-model=\"event.start.date\"\n          tabindex=\"4\"\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Location\"\n          v-model=\"event.location\"\n          tabindex=\"5\"\n        />\n        <select name=\"color\" id=\"clr\" v-model=\"event.colorId\" tabindex=\"6\">\n          <option value=\"undefined\">Default</option>\n          <option value=\"1\">Levander</option>\n          <option value=\"2\">Sage</option>\n          <option value=\"3\">Grape</option>\n          <option value=\"4\">Flamingo</option>\n          <option value=\"5\">Banana</option>\n          <option value=\"6\">Tangerine</option>\n          <option value=\"7\">Peacock</option>\n          <option value=\"8\">Graphite</option>\n          <option value=\"9\">Blueberry</option>\n          <option value=\"10\">Basil</option>\n          <option value=\"11\">Tomato</option>\n        </select>\n        <textarea\n          name=\"desc\"\n          rows=\"8\"\n          cols=\"4\"\n          placeholder=\"Description\"\n          v-model=\"event.description\"\n          tabindex=\"7\"\n        ></textarea>\n        <div\n          style=\"display:flex; justify-content: space-between; width:70%; margin: auto\"\n        >\n          <button class=\"btn ac\" v-on:click=\"toggleEventCard()\">Discard</button>\n          <button\n            class=\"btn ac\"\n            v-on:click=\"updateEvent()\"\n            tabindex=\"8\"\n            style=\"background-color: var(--accent); color: white\"\n          >\n            Save\n          </button>\n        </div>\n        <br />\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nexport default {\n  methods: {\n    toggleEventCard: function () {\n      var overlay = this.$refs.overlay\n      if (\n        overlay.classList.contains('push') &&\n        overlay.classList.contains('noned')\n      ) {\n        overlay.classList.remove('noned')\n        overlay.classList.remove('hide')\n        setTimeout(function () {\n          overlay.classList.remove('push')\n        }, 1)\n        this.$refs.finput.focus()\n      } else {\n        overlay.classList.add('push')\n        setTimeout(function () {\n          overlay.classList.add('hide')\n          setTimeout(function () {\n            overlay.classList.add('noned')\n          }, 200)\n        }, 100)\n      }\n    },\n    validateTime: function () {\n      if (new Date(this.event.start.date)) {\n        if (new Date(this.event.start.date) <= new Date(this.event.end.date)) { return true }\n      }\n      if (new Date(this.event.start.dateTime)) {\n        if (\n          new Date(this.event.start.dateTime) <=\n          new Date(this.event.end.dateTime)\n        ) { return true }\n      }\n      return false\n    },\n    updateEvent: function () {\n      if (this.event.summary !== '' && this.validateTime()) {\n        this.$gapi\n          ._libraryInit('client', {\n            discoveryDocs: [\n              'https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest'\n            ]\n          })\n          .then(client => {\n            var ev = {\n              calendarId: 'primary',\n              eventId: this.event.id,\n              resource: this.event\n            }\n            if (this.$refs.adate.classList.contains('noned')) {\n              delete this.event.start.date\n              delete this.event.end.date\n              this.event.start.dateTime = new Date(\n                this.event.start.dateTime\n              ).toISOString()\n              this.event.end.dateTime = new Date(\n                this.event.end.dateTime\n              ).toISOString()\n              return client.calendar.events.update(ev)\n            }\n            delete this.event.start.dateTime\n            delete this.event.end.dateTime\n            this.event.start.date = this.event.start.date.substring(0, 10)\n            this.event.end.date = this.event.start.date\n            return client.calendar.events.update(ev)\n          })\n          .then(this.toggleEventCard())\n          .then(\n            setTimeout(function () {\n              // TODO Replace logic with vuex no-reload solution\n              location.reload()\n            }, 1500)\n          )\n      }\n    },\n    allDay: function () {\n      if (this.$refs.adate.classList.contains('noned')) {\n        /* TODO Date to time convert\n        if (this.event.start.dateTime) {\n          this.event.start.date = this.event.start.dateTime.substring(0, 10)\n          this.event.end.date = this.event.end.dateTime.substring(0, 10)\n        } */\n        this.$refs.adate.classList.remove('noned')\n        this.$refs.adbtn.classList.add('actbt')\n        this.$refs.sdate.classList.add('noned')\n        this.$refs.edate.classList.add('noned')\n      } else {\n        /* TODO Date to time convert\n        if (this.event.start.dateTime === undefined) {\n          this.event.start.dateTime = new Date(new Date(this.event.start.date).getTime() - (new Date(this.event.start.date).getTimezoneOffset() * 60000)).toISOString()\n          this.event.end.dateTime = new Date(new Date(this.event.end.date).getTime() - (new Date(this.event.end.date).getTimezoneOffset() * 60000)).toISOString()\n        } */\n        this.$refs.adate.classList.add('noned')\n        this.$refs.adbtn.classList.remove('actbt')\n        this.$refs.sdate.classList.remove('noned')\n        this.$refs.edate.classList.remove('noned')\n      }\n    }\n  },\n  props: {\n    toggle: Number,\n    event: {\n      type: Object,\n      default: function () {\n        return {\n          summary: '',\n          location: undefined,\n          description: undefined,\n          colorId: 0,\n          start: {\n            dateTime: new Date(Date.now()).toISOString()\n          },\n          end: {\n            dateTime: new Date(Date.now()).toISOString()\n          }\n        }\n      }\n    }\n  },\n  watch: {\n    toggle: function (update, outdate) {\n      if (\n        this.$refs.overlay.classList.contains('noned') &&\n        update !== undefined\n      ) {\n        if (this.event.summary !== '') {\n          if (\n            (this.event.end.dateTime === undefined &&\n              !this.$refs.edate.classList.contains('noned')) ||\n            (this.event.end.dateTime !== undefined &&\n              this.$refs.edate.classList.contains('noned'))\n          ) {\n            this.allDay()\n          }\n          if (!this.$refs.edate.classList.contains('noned')) {\n            this.event.start.dateTime = new Date(\n              new Date(this.event.start.dateTime).getTime() -\n                new Date(this.event.start.dateTime).getTimezoneOffset() * 60000\n            )\n              .toISOString()\n              .substring(0, 16)\n            this.event.end.dateTime = new Date(\n              new Date(this.event.end.dateTime).getTime() -\n                new Date(this.event.end.dateTime).getTimezoneOffset() * 60000\n            )\n              .toISOString()\n              .substring(0, 16)\n          }\n          this.toggleEventCard()\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.bt {\n  padding: 0.5rem;\n  margin: 0.5rem;\n  width: 4rem;\n}\nsection {\n  display: block;\n  position: fixed;\n  width: 100%;\n  z-index: 6;\n  top: 0;\n  bottom: 0;\n  padding-top: 10vh;\n  overflow-y: scroll hidden;\n  transition: all 0.5s;\n  background-color: var(--shadow);\n}\n.page {\n  background-color: var(--background);\n  border: 1px solid var(--modal);\n  box-sizing: border-box;\n  max-width: 512px;\n  max-height: 600px;\n  width: 100%;\n  margin: auto;\n  padding: 1rem;\n  padding-top: 4.5rem;\n  border-radius: 6px;\n  overflow-y: scroll hidden;\n  z-index: 6;\n  min-height: min-content;\n  transition: all 0.5s;\n  overflow-x: hidden;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  overflow: overlay;\n}\n.form {\n  text-align: center;\n  width: 100%;\n  max-width: 512px;\n  min-width: 300px;\n}\n.form select {\n  all: unset;\n}\n.form input,\n.form textarea,\n.form select {\n  display: block;\n  margin: 1rem;\n  padding: 0.6rem 1rem;\n  text-align: center;\n  margin: 0.8rem auto;\n  width: 70%;\n  background-color: var(--control);\n  border-radius: 6px;\n  box-sizing: border-box;\n  border: none;\n  resize: none;\n  color: var(--foreground);\n  font-family: inherit;\n  font-size: 1.2rem;\n}\ntextarea {\n  text-align: left !important;\n  height: 6rem;\n}\n.push {\n  padding-top: 100vh;\n}\nbutton {\n  padding: 0.2rem 0.8rem;\n  font-size: 1rem;\n}\n.ac {\n  padding: 0.4rem 0;\n  width: calc(50% - 1rem);\n}\n@media (hover: hover) {\n  .abt:hover {\n    cursor: pointer;\n  }\n}\n@media screen and (max-width: 670px), screen and (max-height: 660px) {\n  section {\n    padding: 0;\n    background-color: var(--background);\n  }\n  section * {\n    transition-duration: 0;\n  }\n  .page {\n    max-width: initial;\n    max-height: max-content;\n    height: 100vh;\n    top: 0;\n    border: none;\n    border-radius: 0;\n  }\n}\n</style>\n"]}]}